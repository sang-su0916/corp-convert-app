<!DOCTYPE html>
<html lang="ko" class="light">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë²•ì¸ì „í™˜ ì‹œë®¬ë ˆì´í„° â€” ê°œì¸ vs ë²•ì¸ ì„¸ê¸ˆ ë¹„êµ</title>
<meta name="description" content="ê°œì¸ì‚¬ì—…ì vs ë²•ì¸ì‚¬ì—…ì ì„¸ê¸ˆ ë¹„êµ ì‹œë®¬ë ˆì´í„°. 2026ë…„ ì„¸ìœ¨ ê¸°ì¤€. ì¢…í•©ì†Œë“ì„¸, ë²•ì¸ì„¸, ë°°ë‹¹ì†Œë“ì„¸ ë¹„êµ ë¶„ì„.">
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<script>
tailwind.config = {
  darkMode: 'class',
  theme: {
    extend: {
      fontFamily: { sans: ['"Pretendard Variable"', 'Pretendard', '-apple-system', 'sans-serif'] },
      colors: {
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        primary: { DEFAULT: 'hsl(var(--primary))', foreground: 'hsl(var(--primary-foreground))' },
        muted: { DEFAULT: 'hsl(var(--muted))', foreground: 'hsl(var(--muted-foreground))' },
        accent: { DEFAULT: 'hsl(var(--accent))', foreground: 'hsl(var(--accent-foreground))' },
        destructive: { DEFAULT: 'hsl(var(--destructive))', foreground: 'hsl(var(--destructive-foreground))' },
        card: { DEFAULT: 'hsl(var(--card))', foreground: 'hsl(var(--card-foreground))' },
      },
      borderRadius: { lg: 'var(--radius)', md: 'calc(var(--radius) - 2px)', sm: 'calc(var(--radius) - 4px)' },
    }
  }
}
</script>
<style>
  :root {
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --primary: 263 70% 50%;
    --primary-foreground: 0 0% 98%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: 263 70% 50%;
    --radius: 0.75rem;
  }
  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 6%;
    --card-foreground: 0 0% 98%;
    --primary: 263 70% 58%;
    --primary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 263 70% 58%;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: 'Pretendard Variable', Pretendard, sans-serif; background: hsl(var(--background)); color: hsl(var(--foreground)); }
  input[type="text"], input[type="number"], select {
    background: hsl(var(--background));
    color: hsl(var(--foreground));
    border: 1px solid hsl(var(--border));
  }
  input:focus, select:focus {
    outline: none;
    box-shadow: 0 0 0 2px hsl(var(--ring) / 0.3);
    border-color: hsl(var(--ring));
  }
  .chart-container { position: relative; }
  @media print {
    .no-print { display: none !important; }
    body { background: white !important; color: black !important; }
    .dark { --background: 0 0% 100%; --foreground: 0 0% 0%; --card: 0 0% 100%; --card-foreground: 0 0% 0%; --border: 0 0% 85%; --muted: 0 0% 95%; --muted-foreground: 0 0% 30%; }
  }
  /* Custom scrollbar */
  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: hsl(var(--muted-foreground) / 0.3); border-radius: 3px; }
  /* Range slider */
  input[type="range"] { -webkit-appearance: none; width: 100%; height: 6px; border-radius: 3px; background: hsl(var(--border)); outline: none; border: none; }
  input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%; background: hsl(var(--primary)); cursor: pointer; box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
  input[type="range"]:focus { box-shadow: none; }
  /* Transitions */
  .tab-btn { transition: all 0.15s ease; }
  .card-hover { transition: box-shadow 0.2s ease; }
  .card-hover:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
</style>
</head>
<body class="min-h-screen">

<!-- Header -->
<header class="bg-gradient-to-br from-violet-600 to-violet-800 dark:from-violet-800 dark:to-violet-950 text-white">
  <div class="max-w-5xl mx-auto px-4 py-8 sm:py-12">
    <div class="flex items-center justify-between mb-4">
      <div class="flex items-center gap-2 text-sm font-medium bg-white/15 backdrop-blur rounded-full px-3 py-1">
        <span>ğŸ“Š</span> 2026ë…„ ì„¸ìœ¨ ê¸°ì¤€
      </div>
      <button onclick="toggleDark()" class="no-print p-2 rounded-lg bg-white/15 hover:bg-white/25 backdrop-blur transition" title="ë‹¤í¬ëª¨ë“œ ì „í™˜">
        <span id="darkIcon">ğŸŒ™</span>
      </button>
    </div>
    <div class="flex items-center gap-3">
      <img src="logo.png" alt="ì—˜ë¹„ì¦ˆ íŒŒíŠ¸ë„ˆìŠ¤" class="w-11 h-11 rounded-lg bg-white/10 p-1 object-contain">
      <div>
        <h1 class="text-2xl sm:text-3xl font-bold tracking-tight">ë²•ì¸ì „í™˜ ì‹œë®¬ë ˆì´í„°</h1>
        <p class="text-violet-200 mt-1 text-sm sm:text-base">ê°œì¸ì‚¬ì—…ì vs ë²•ì¸, ì„¸ê¸ˆë¶€í„° 5ë…„ ëˆ„ì  ì ˆì„¸ì•¡ê¹Œì§€ í•œëˆˆì— ë¹„êµí•˜ì„¸ìš”</p>
      </div>
    </div>
  </div>
</header>

<!-- Main -->
<main class="max-w-5xl mx-auto px-4 -mt-4 pb-12">
  <!-- Alert -->
  <div class="bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-xl p-4 mb-6 text-sm text-amber-800 dark:text-amber-200 no-print">
    <strong>âš ï¸ ì°¸ê³ ìš© ì‹œë®¬ë ˆì´ì…˜ì…ë‹ˆë‹¤.</strong> ì •í™•í•œ ì„¸ê¸ˆ ê³„ì‚°ì€ ì„¸ë¬´ì‚¬ì™€ ìƒë‹´í•˜ì„¸ìš”. ì„¸ìœ¨ì€ 2026ë…„ í™•ì • ê¸°ì¤€ì´ë©°, ì§€ë°©ì†Œë“ì„¸(10%)ê°€ í¬í•¨ë©ë‹ˆë‹¤.
  </div>

  <!-- Tabs -->
  <div class="flex bg-card border border-border rounded-xl p-1 mb-6 no-print overflow-x-auto">
    <button class="tab-btn flex-1 min-w-0 px-3 py-2.5 rounded-lg text-sm font-semibold text-center whitespace-nowrap active" data-tab="simulator" onclick="switchTab('simulator',this)">ğŸ’° ì„¸ê¸ˆ ë¹„êµ</button>
    <button class="tab-btn flex-1 min-w-0 px-3 py-2.5 rounded-lg text-sm font-semibold text-center whitespace-nowrap" data-tab="fiveyear" onclick="switchTab('fiveyear',this)">ğŸ“ˆ 5ë…„ ëˆ„ì </button>
    <button class="tab-btn flex-1 min-w-0 px-3 py-2.5 rounded-lg text-sm font-semibold text-center whitespace-nowrap" data-tab="dividend" onclick="switchTab('dividend',this)">ğŸ’¸ ë°°ë‹¹ ì „ëµ</button>
    <button class="tab-btn flex-1 min-w-0 px-3 py-2.5 rounded-lg text-sm font-semibold text-center whitespace-nowrap" data-tab="methods" onclick="switchTab('methods',this)">ğŸ”„ ì „í™˜ ë°©ì‹</button>
    <button class="tab-btn flex-1 min-w-0 px-3 py-2.5 rounded-lg text-sm font-semibold text-center whitespace-nowrap" data-tab="checklist" onclick="switchTab('checklist',this)">âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸</button>
    <button class="tab-btn flex-1 min-w-0 px-3 py-2.5 rounded-lg text-sm font-semibold text-center whitespace-nowrap" data-tab="info" onclick="switchTab('info',this)">ğŸ“š ì„¸ìœ¨ ì•ˆë‚´</button>
  </div>

  <!-- ==================== TAB: SIMULATOR ==================== -->
  <div id="tab-simulator">
    <div class="bg-card border border-border rounded-xl p-5 sm:p-6 mb-4 card-hover">
      <h2 class="text-base font-bold mb-5 flex items-center gap-2">ğŸ“Š ì‚¬ì—… í˜„í™© ì…ë ¥</h2>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
        <div>
          <label class="block text-xs font-semibold text-muted-foreground mb-1.5">ì—°ê°„ ë§¤ì¶œì•¡ (ì›)</label>
          <input type="text" id="revenue" placeholder="500,000,000" oninput="fmt(this)" class="w-full px-3 py-2.5 rounded-lg text-sm">
          <p class="text-xs text-muted-foreground mt-1">ë¶€ê°€ì„¸ ì œì™¸ ê¸ˆì•¡</p>
        </div>
        <div>
          <label class="block text-xs font-semibold text-muted-foreground mb-1.5">ì—°ê°„ ìˆœì´ìµ (ì›)</label>
          <input type="text" id="profit" placeholder="100,000,000" oninput="fmt(this)" class="w-full px-3 py-2.5 rounded-lg text-sm">
          <p class="text-xs text-muted-foreground mt-1">ë§¤ì¶œ âˆ’ ë¹„ìš©(ì¸ê±´ë¹„, ì„ì°¨ë£Œ ë“±)</p>
        </div>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4">
        <div>
          <label class="block text-xs font-semibold text-muted-foreground mb-1.5">ëŒ€í‘œì í¬ë§ ê¸‰ì—¬ (ì›”)</label>
          <input type="text" id="ceoSalary" placeholder="5,000,000" oninput="fmt(this)" class="w-full px-3 py-2.5 rounded-lg text-sm">
        </div>
        <div>
          <label class="block text-xs font-semibold text-muted-foreground mb-1.5">ì§ì› ìˆ˜</label>
          <input type="number" id="employees" placeholder="0" value="0" class="w-full px-3 py-2.5 rounded-lg text-sm">
        </div>
        <div>
          <label class="block text-xs font-semibold text-muted-foreground mb-1.5">ì—…ì¢…</label>
          <select id="industry" class="w-full px-3 py-2.5 rounded-lg text-sm">
            <option value="service">ì„œë¹„ìŠ¤ì—…</option>
            <option value="retail">ë„ì†Œë§¤ì—…</option>
            <option value="manufacturing">ì œì¡°ì—…</option>
            <option value="construction">ê±´ì„¤ì—…</option>
            <option value="it">IT/ì†Œí”„íŠ¸ì›¨ì–´</option>
            <option value="realestate">ë¶€ë™ì‚°ì„ëŒ€ì—…</option>
          </select>
        </div>
      </div>

      <!-- ì†Œë“ê³µì œ ì˜µì…˜ -->
      <details class="mb-4 border border-border rounded-lg">
        <summary class="px-4 py-3 text-sm font-semibold cursor-pointer hover:bg-accent rounded-lg">ğŸ§¾ ì†Œë“ê³µì œ ì˜µì…˜ (ì„ íƒ)</summary>
        <div class="px-4 pb-4 pt-2 grid grid-cols-1 sm:grid-cols-3 gap-4">
          <div>
            <label class="block text-xs font-semibold text-muted-foreground mb-1.5">ê¸°ë³¸ê³µì œ ëŒ€ìƒ ì¸ì›</label>
            <input type="number" id="dependents" value="1" min="1" class="w-full px-3 py-2.5 rounded-lg text-sm">
            <p class="text-xs text-muted-foreground mt-1">ë³¸ì¸ í¬í•¨, 1ì¸ë‹¹ 150ë§Œì›</p>
          </div>
          <div>
            <label class="block text-xs font-semibold text-muted-foreground mb-1.5">êµ­ë¯¼ì—°ê¸ˆ ë‚©ë¶€ì•¡ (ì—°)</label>
            <input type="text" id="pension" placeholder="0" oninput="fmt(this)" class="w-full px-3 py-2.5 rounded-lg text-sm">
          </div>
          <div>
            <label class="block text-xs font-semibold text-muted-foreground mb-1.5">ê¸°íƒ€ ì†Œë“ê³µì œ (ì—°)</label>
            <input type="text" id="otherDeduction" placeholder="0" oninput="fmt(this)" class="w-full px-3 py-2.5 rounded-lg text-sm">
            <p class="text-xs text-muted-foreground mt-1">ê±´ê°•ë³´í—˜, ê°œì¸ì—°ê¸ˆ ë“±</p>
          </div>
        </div>
      </details>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-5">
        <div>
          <label class="block text-xs font-semibold text-muted-foreground mb-1.5">ë°°ë‹¹ ë¹„ìœ¨ (%)</label>
          <div class="flex items-center gap-3">
            <input type="range" id="dividendRatio" min="0" max="100" value="0" oninput="document.getElementById('divLabel').textContent=this.value+'%'" class="flex-1">
            <span id="divLabel" class="text-sm font-bold w-12 text-right">0%</span>
          </div>
          <p class="text-xs text-muted-foreground mt-1">ë²•ì¸ì„¸ ë‚©ë¶€ í›„ ìˆœì´ìµ ì¤‘ ë°°ë‹¹ ë¹„ìœ¨</p>
        </div>
        <div>
          <label class="block text-xs font-semibold text-muted-foreground mb-1.5">ì ìš© ì„¸ìœ¨ ì—°ë„</label>
          <select id="taxYear" class="w-full px-3 py-2.5 rounded-lg text-sm">
            <option value="2026" selected>2026ë…„~ (ë²•ì¸ì„¸ 1%p ì¸ìƒ)</option>
            <option value="2025">2025ë…„ (í˜„í–‰)</option>
          </select>
        </div>
      </div>

      <button onclick="simulate()" class="w-full py-3 bg-violet-600 hover:bg-violet-700 text-white font-semibold rounded-lg transition text-sm">
        ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰
      </button>
    </div>

    <!-- Results -->
    <div id="results" class="hidden">
      <!-- Comparison Cards -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
        <div class="rounded-xl border-2 border-orange-400 bg-orange-50 dark:bg-orange-950/30 p-5 text-center">
          <div class="text-sm font-bold text-orange-600 dark:text-orange-400 mb-1">ğŸ‘¤ ê°œì¸ì‚¬ì—…ì ìœ ì§€</div>
          <div class="text-2xl sm:text-3xl font-bold" id="indTotal">0ì›</div>
          <div class="text-xs text-muted-foreground mt-1">ì—°ê°„ ì´ ì„¸ê¸ˆ</div>
        </div>
        <div class="rounded-xl border-2 border-violet-500 bg-violet-50 dark:bg-violet-950/30 p-5 text-center">
          <div class="text-sm font-bold text-violet-600 dark:text-violet-400 mb-1">ğŸ¢ ë²•ì¸ ì „í™˜</div>
          <div class="text-2xl sm:text-3xl font-bold" id="corpTotalEl">0ì›</div>
          <div class="text-xs text-muted-foreground mt-1">ì—°ê°„ ì´ ì„¸ê¸ˆ</div>
        </div>
      </div>

      <!-- Savings -->
      <div id="savingsCard" class="rounded-xl p-5 text-center mb-4">
        <div class="text-sm font-semibold" id="savLabel">ì—°ê°„ ì˜ˆìƒ ì ˆì„¸ì•¡</div>
        <div class="text-3xl font-bold mt-1" id="savAmount">0ì›</div>
        <div class="text-xs mt-1" id="savDesc"></div>
      </div>

      <!-- Charts -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
        <div class="bg-card border border-border rounded-xl p-5">
          <h3 class="text-sm font-bold mb-3">ğŸ“Š ì„¸ê¸ˆ ë¹„êµ ë°” ì°¨íŠ¸</h3>
          <div class="chart-container" style="height:260px"><canvas id="barChart"></canvas></div>
        </div>
        <div class="bg-card border border-border rounded-xl p-5">
          <h3 class="text-sm font-bold mb-3">ğŸ© ë²•ì¸ ì„¸ê¸ˆ êµ¬ì„±</h3>
          <div class="chart-container" style="height:260px"><canvas id="donutChart"></canvas></div>
        </div>
      </div>

      <!-- Detail Tables -->
      <div class="bg-card border border-border rounded-xl p-5 mb-4">
        <h3 class="text-sm font-bold mb-4">ğŸ“‹ ìƒì„¸ ë¹„êµ</h3>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <div>
            <h4 class="text-sm font-bold text-orange-600 dark:text-orange-400 mb-2">ğŸ‘¤ ê°œì¸ì‚¬ì—…ì</h4>
            <div class="overflow-x-auto"><table class="w-full text-sm" id="indTable"></table></div>
          </div>
          <div>
            <h4 class="text-sm font-bold text-violet-600 dark:text-violet-400 mb-2">ğŸ¢ ë²•ì¸</h4>
            <div class="overflow-x-auto"><table class="w-full text-sm" id="corpTable"></table></div>
          </div>
        </div>
      </div>

      <!-- ë¶€ë™ì‚°ì„ëŒ€ì—… ê²½ê³  -->
      <div id="realestateWarning" class="hidden bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800 rounded-xl p-4 mb-4 text-sm text-red-800 dark:text-red-200">
        <strong>ğŸ  ë¶€ë™ì‚°ì„ëŒ€ì—… ì£¼ì˜:</strong> ë¶€ë™ì‚°ì„ëŒ€ì—… ë²•ì¸ì€ ì¤‘ì†Œê¸°ì—… ì„¸ìœ¨ íŠ¹ë¡€(2ì–µ ì´í•˜ 10%) ì ìš©ì´ ë°°ì œë  ìˆ˜ ìˆìœ¼ë©°, ì„±ì‹¤ì‹ ê³ í™•ì¸ ëŒ€ìƒ ê¸°ì¤€ì´ ë‹¤ë¦…ë‹ˆë‹¤. ë°˜ë“œì‹œ ì„¸ë¬´ì‚¬ì™€ ìƒë‹´í•˜ì„¸ìš”.
      </div>

      <!-- ê°€ì§€ê¸‰ê¸ˆ ê²½ê³  -->
      <div class="bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-xl p-4 mb-4 text-sm text-amber-800 dark:text-amber-200">
        <strong>âš ï¸ ê°€ì§€ê¸‰ê¸ˆ ë¦¬ìŠ¤í¬:</strong> ë²•ì¸ ìê¸ˆì„ ëŒ€í‘œ ê°œì¸ ìš©ë„ë¡œ ì‚¬ìš©í•˜ë©´ 'ê°€ì§€ê¸‰ê¸ˆ'ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤. ì¸ì •ì´ì(ì‹œê°€ 4.6%) ë¶€ê³¼, ëŒ€í‘œ ìƒì—¬ ì²˜ë¶„ìœ¼ë¡œ ì†Œë“ì„¸ ì¶”ê°€ ë°œìƒ, ê°€ì‚°ì„¸ ë¶€ê³¼ ë“±ì˜ ë¶ˆì´ìµì´ ìˆìŠµë‹ˆë‹¤. ë²•ì¸ ìê¸ˆê³¼ ê°œì¸ ìê¸ˆì„ ë°˜ë“œì‹œ ë¶„ë¦¬í•˜ì„¸ìš”.
      </div>

      <!-- Recommendation -->
      <div class="bg-card border border-border rounded-xl p-5 mb-4" id="recCard">
        <h3 class="text-sm font-bold mb-3">ğŸ’¡ ë¶„ì„ ê²°ê³¼</h3>
        <div id="recText"></div>
      </div>

      <!-- Print -->
      <button onclick="window.print()" class="no-print w-full py-2.5 border border-border rounded-lg text-sm font-semibold hover:bg-accent transition">
        ğŸ–¨ï¸ ê²°ê³¼ ì¸ì‡„ / PDF ì €ì¥
      </button>
    </div>
  </div>

  <!-- ==================== TAB: 5-YEAR ==================== -->
  <div id="tab-fiveyear" class="hidden">
    <div class="bg-card border border-border rounded-xl p-5 mb-4">
      <h2 class="text-base font-bold mb-2 flex items-center gap-2">ğŸ“ˆ 5ë…„ ëˆ„ì  ì ˆì„¸ ì‹œë®¬ë ˆì´ì…˜</h2>
      <p class="text-sm text-muted-foreground mb-4">ë²•ì¸ ì„¤ë¦½ë¹„ìš©, ì„¸ë¬´ê¸°ì¥ë£Œ ë“± ìš´ì˜ë¹„ë¥¼ í¬í•¨í•œ ì‹¤ì§ˆ ì ˆì„¸ì•¡ì„ 5ë…„ê°„ ëˆ„ì  ë¹„êµí•©ë‹ˆë‹¤.</p>
      <div class="bg-muted rounded-lg p-4 mb-4 text-sm" id="fiveYearNote">
        ë¨¼ì € <strong>ì„¸ê¸ˆ ë¹„êµ</strong> íƒ­ì—ì„œ ì‹œë®¬ë ˆì´ì…˜ì„ ì‹¤í–‰í•˜ì„¸ìš”.
      </div>
      <div id="fiveYearContent" class="hidden">
        <!-- ë²•ì¸ ì„¤ë¦½ë¹„ ìƒì„¸ -->
        <div class="mb-5">
          <h3 class="text-sm font-bold mb-3">ğŸ—ï¸ ë²•ì¸ ì„¤ë¦½ ë¹„ìš© ìƒì„¸ (1íšŒì„±)</h3>
          <div class="overflow-x-auto">
            <table class="w-full text-sm" id="setupCostTable"></table>
          </div>
        </div>
        <div class="mb-5">
          <h3 class="text-sm font-bold mb-3">ğŸ“… ì—°ê°„ ì¶”ê°€ ìš´ì˜ ë¹„ìš©</h3>
          <div class="overflow-x-auto">
            <table class="w-full text-sm" id="annualCostTable"></table>
          </div>
        </div>
        <div class="chart-container mb-4" style="height:320px"><canvas id="fiveYearChart"></canvas></div>
        <div class="overflow-x-auto">
          <table class="w-full text-sm" id="fiveYearTable"></table>
        </div>
      </div>
    </div>
  </div>

  <!-- ==================== TAB: DIVIDEND ==================== -->
  <div id="tab-dividend" class="hidden">
    <div class="bg-card border border-border rounded-xl p-5 mb-4">
      <h2 class="text-base font-bold mb-2 flex items-center gap-2">ğŸ’¸ ë°°ë‹¹ ì „ëµ ì‹œë®¬ë ˆì´ì…˜</h2>
      <p class="text-sm text-muted-foreground mb-4">ë°°ë‹¹ ë¹„ìœ¨ì— ë”°ë¥¸ ì„¸ê¸ˆ ë³€í™”ë¥¼ ë¹„êµí•©ë‹ˆë‹¤. ë°°ë‹¹ì†Œë“ì„¸ vs ê¸‰ì—¬ì†Œë“ì„¸ ìµœì  ë¹„ìœ¨ì„ ì°¾ì•„ë³´ì„¸ìš”.</p>
      <div class="bg-muted rounded-lg p-4 mb-4 text-sm" id="divNote">
        ë¨¼ì € <strong>ì„¸ê¸ˆ ë¹„êµ</strong> íƒ­ì—ì„œ ì‹œë®¬ë ˆì´ì…˜ì„ ì‹¤í–‰í•˜ì„¸ìš”.
      </div>
      <div id="divContent" class="hidden">
        <div class="chart-container mb-4" style="height:320px"><canvas id="divChart"></canvas></div>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4">
          <div class="bg-muted rounded-lg p-4 text-center">
            <div class="text-xs text-muted-foreground">ê¸‰ì—¬ë§Œ (ë°°ë‹¹ 0%)</div>
            <div class="text-lg font-bold" id="divOnly0"></div>
          </div>
          <div class="bg-violet-50 dark:bg-violet-950/30 rounded-lg p-4 text-center border-2 border-violet-400">
            <div class="text-xs text-violet-600 dark:text-violet-400 font-bold">ğŸ† ìµœì  ë°°ë‹¹ ë¹„ìœ¨</div>
            <div class="text-lg font-bold" id="divOptimal"></div>
          </div>
          <div class="bg-muted rounded-lg p-4 text-center">
            <div class="text-xs text-muted-foreground">ì „ì•¡ ë°°ë‹¹ (100%)</div>
            <div class="text-lg font-bold" id="divOnly100"></div>
          </div>
        </div>
        <div class="overflow-x-auto">
          <table class="w-full text-sm" id="divTable"></table>
        </div>
      </div>
    </div>
  </div>

  <!-- ==================== TAB: METHODS ==================== -->
  <div id="tab-methods" class="hidden">
    <div class="bg-card border border-border rounded-xl p-5 mb-4">
      <h2 class="text-base font-bold mb-2">ğŸ”„ ë²•ì¸ì „í™˜ ë°©ì‹ ë¹„êµ</h2>
      <p class="text-sm text-muted-foreground mb-5">3ê°€ì§€ ì£¼ìš” ì „í™˜ ë°©ì‹ì˜ ì¥ë‹¨ì ì„ ë¹„êµí•©ë‹ˆë‹¤.</p>

      <div class="grid gap-4">
        <!-- í˜„ë¬¼ì¶œì -->
        <div class="border border-border rounded-xl p-5">
          <div class="flex items-center gap-2 mb-3">
            <span class="inline-flex items-center justify-center w-8 h-8 rounded-lg bg-violet-100 dark:bg-violet-900 text-violet-600 dark:text-violet-300 text-sm font-bold">1</span>
            <h3 class="font-bold">í˜„ë¬¼ì¶œì</h3>
          </div>
          <p class="text-sm text-muted-foreground mb-3">ê°œì¸ì‚¬ì—…ìì˜ ì‚¬ì—…ìš© ìì‚°ì„ ë²•ì¸ì— ì¶œìí•˜ê³ , ê·¸ ëŒ€ê°€ë¡œ ì£¼ì‹ì„ ë°›ëŠ” ë°©ì‹</p>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm">
            <div class="bg-emerald-50 dark:bg-emerald-950/30 rounded-lg p-3">
              <div class="font-semibold text-emerald-700 dark:text-emerald-400 mb-1">âœ… ì¥ì </div>
              <ul class="list-disc pl-4 text-muted-foreground space-y-1">
                <li>ì¡°ì„¸íŠ¹ë¡€ì œí•œë²•ìƒ ì–‘ë„ì†Œë“ì„¸ ì´ì›”ê³¼ì„¸ í˜œíƒ</li>
                <li>ì·¨ë“ì„¸ 75% ê°ë©´ ê°€ëŠ¥ (ê°ë©´ ì¡°ê±´ ì¶©ì¡± ì‹œ)</li>
                <li>ì‚¬ì—… ì—°ì†ì„± ìœ ì§€</li>
                <li>ë¶€ì±„ í¬ê´„ ìŠ¹ê³„ ê°€ëŠ¥</li>
              </ul>
            </div>
            <div class="bg-red-50 dark:bg-red-950/30 rounded-lg p-3">
              <div class="font-semibold text-red-700 dark:text-red-400 mb-1">âŒ ë‹¨ì </div>
              <ul class="list-disc pl-4 text-muted-foreground space-y-1">
                <li>ê°ì •í‰ê°€ ë¹„ìš© ë°œìƒ (ìˆ˜ë°±ë§Œì›)</li>
                <li>ì ˆì°¨ ë³µì¡, ê¸°ê°„ 2~3ê°œì›” ì†Œìš”</li>
                <li>ê²€ì‚¬ì¸ ì¡°ì‚¬ í•„ìš” (ë²•ì›)</li>
                <li>5ë…„ ë‚´ ì£¼ì‹ ì²˜ë¶„ ì‹œ ì–‘ë„ì„¸ ì¶”ì§•</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- ì‚¬ì—…ì–‘ìˆ˜ë„ -->
        <div class="border border-border rounded-xl p-5">
          <div class="flex items-center gap-2 mb-3">
            <span class="inline-flex items-center justify-center w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 text-sm font-bold">2</span>
            <h3 class="font-bold">ì‚¬ì—…ì–‘ìˆ˜ë„ (í¬ê´„ì–‘ìˆ˜ë„)</h3>
          </div>
          <p class="text-sm text-muted-foreground mb-3">ê°œì¸ì‚¬ì—…ì˜ ìì‚°Â·ë¶€ì±„ë¥¼ ë²•ì¸ì— ì–‘ë„í•˜ê³ , ëŒ€ê¸ˆì„ ìˆ˜ë ¹í•˜ëŠ” ë°©ì‹</p>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm">
            <div class="bg-emerald-50 dark:bg-emerald-950/30 rounded-lg p-3">
              <div class="font-semibold text-emerald-700 dark:text-emerald-400 mb-1">âœ… ì¥ì </div>
              <ul class="list-disc pl-4 text-muted-foreground space-y-1">
                <li>ì ˆì°¨ ë¹„êµì  ê°„ë‹¨</li>
                <li>ë¶€ê°€ê°€ì¹˜ì„¸ ë©´ì œ (í¬ê´„ì–‘ìˆ˜ë„ ì‹œ)</li>
                <li>ì‚¬ì—… ì—°ì†ì„± ìœ ì§€</li>
                <li>ì¡°íŠ¹ë²•ìƒ ì„¸ì œ í˜œíƒ ê°€ëŠ¥</li>
              </ul>
            </div>
            <div class="bg-red-50 dark:bg-red-950/30 rounded-lg p-3">
              <div class="font-semibold text-red-700 dark:text-red-400 mb-1">âŒ ë‹¨ì </div>
              <ul class="list-disc pl-4 text-muted-foreground space-y-1">
                <li>ì–‘ë„ì†Œë“ì„¸ ë°œìƒ ê°€ëŠ¥ (ë¶€ë™ì‚° ë“±)</li>
                <li>ì·¨ë“ì„¸ ê°ë©´ ìš”ê±´ ì—„ê²©</li>
                <li>ì–‘ìˆ˜ ëŒ€ê¸ˆ ë§ˆë ¨ í•„ìš”</li>
                <li>ê³„ì•½ ê´€ê³„ ì¬ì„¤ì • í•„ìš”</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- ì‹ ê·œë²•ì¸ì„¤ë¦½ í›„ íì—… -->
        <div class="border border-border rounded-xl p-5">
          <div class="flex items-center gap-2 mb-3">
            <span class="inline-flex items-center justify-center w-8 h-8 rounded-lg bg-amber-100 dark:bg-amber-900 text-amber-600 dark:text-amber-300 text-sm font-bold">3</span>
            <h3 class="font-bold">ì‹ ê·œ ë²•ì¸ì„¤ë¦½ + ê°œì¸ íì—…</h3>
          </div>
          <p class="text-sm text-muted-foreground mb-3">ìƒˆë¡œìš´ ë²•ì¸ì„ ì„¤ë¦½í•˜ê³ , ê¸°ì¡´ ê°œì¸ì‚¬ì—…ìë¥¼ íì—…í•˜ëŠ” ê°€ì¥ ë‹¨ìˆœí•œ ë°©ì‹</p>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm">
            <div class="bg-emerald-50 dark:bg-emerald-950/30 rounded-lg p-3">
              <div class="font-semibold text-emerald-700 dark:text-emerald-400 mb-1">âœ… ì¥ì </div>
              <ul class="list-disc pl-4 text-muted-foreground space-y-1">
                <li>ì ˆì°¨ê°€ ê°€ì¥ ë‹¨ìˆœ</li>
                <li>ë¹ ë¥¸ ì„¤ë¦½ ê°€ëŠ¥ (1~2ì£¼)</li>
                <li>ìì‚° ì´ì „ ë¶ˆí•„ìš” ì‹œ ë¹„ìš© ìµœì†Œ</li>
                <li>ê¹”ë”í•œ ë¶„ë¦¬</li>
              </ul>
            </div>
            <div class="bg-red-50 dark:bg-red-950/30 rounded-lg p-3">
              <div class="font-semibold text-red-700 dark:text-red-400 mb-1">âŒ ë‹¨ì </div>
              <ul class="list-disc pl-4 text-muted-foreground space-y-1">
                <li>ì¡°íŠ¹ë²• ì„¸ì œ í˜œíƒ ì—†ìŒ</li>
                <li>ì‚¬ì—… ì—°ì†ì„± ë‹¨ì ˆ (ê±°ë˜ì²˜ ì¬ê³„ì•½)</li>
                <li>ì—…ë ¥ ì´ˆê¸°í™”</li>
                <li>ìì‚° ì´ì „ ì‹œ ì–‘ë„ì„¸Â·ì·¨ë“ì„¸ ì „ì•¡ ë°œìƒ</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-4 bg-muted rounded-lg p-4 text-sm">
        <strong>ğŸ’¡ ì¶”ì²œ:</strong> ì‚¬ì—…ìš© ìì‚°(ë¶€ë™ì‚°, ì¥ë¹„ ë“±)ì´ ë§ë‹¤ë©´ <strong>í˜„ë¬¼ì¶œì</strong>ê°€ ì„¸ì œ í˜œíƒì´ í½ë‹ˆë‹¤. ìì‚°ì´ ì ê±°ë‚˜ ë¹ ë¥¸ ì „í™˜ì´ í•„ìš”í•˜ë©´ <strong>ì‹ ê·œ ì„¤ë¦½ + íì—…</strong>ì´ ì‹¤ìš©ì ì…ë‹ˆë‹¤. ë°˜ë“œì‹œ ì„¸ë¬´ì‚¬ì™€ ìƒë‹´í•˜ì—¬ ìµœì ì˜ ë°©ì‹ì„ ê²°ì •í•˜ì„¸ìš”.
      </div>
    </div>
  </div>

  <!-- ==================== TAB: CHECKLIST ==================== -->
  <div id="tab-checklist" class="hidden">
    <div class="bg-card border border-border rounded-xl p-5 mb-4">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-base font-bold flex items-center gap-2">âœ… ë²•ì¸ì „í™˜ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
        <span class="text-xs font-bold text-muted-foreground" id="checkProgress">0/18 ì™„ë£Œ</span>
      </div>
      <!-- Progress bar -->
      <div class="w-full bg-muted rounded-full h-2 mb-5">
        <div id="progressBar" class="bg-violet-600 h-2 rounded-full transition-all duration-300" style="width:0%"></div>
      </div>

      <div id="checklistArea"></div>
    </div>
  </div>

  <!-- ==================== TAB: INFO ==================== -->
  <div id="tab-info" class="hidden">
    <div class="bg-card border border-border rounded-xl p-5 mb-4">
      <h2 class="text-base font-bold mb-4">ğŸ“š ì„¸ìœ¨ ë¹„êµ (2025 vs 2026)</h2>

      <h3 class="text-sm font-bold mb-2">ğŸ“Œ ì¢…í•©ì†Œë“ì„¸ìœ¨ (ë³€ë™ ì—†ìŒ)</h3>
      <div class="overflow-x-auto mb-5">
        <table class="w-full text-sm">
          <thead><tr class="border-b border-border"><th class="text-left py-2 px-3 text-xs text-muted-foreground">ê³¼ì„¸í‘œì¤€</th><th class="text-right py-2 px-3 text-xs text-muted-foreground">ì„¸ìœ¨</th><th class="text-right py-2 px-3 text-xs text-muted-foreground">ëˆ„ì§„ê³µì œ</th></tr></thead>
          <tbody class="divide-y divide-border">
            <tr><td class="py-2 px-3">1,400ë§Œì› ì´í•˜</td><td class="text-right py-2 px-3 font-semibold">6%</td><td class="text-right py-2 px-3">-</td></tr>
            <tr><td class="py-2 px-3">1,400ë§Œ~5,000ë§Œì›</td><td class="text-right py-2 px-3 font-semibold">15%</td><td class="text-right py-2 px-3">126ë§Œì›</td></tr>
            <tr><td class="py-2 px-3">5,000ë§Œ~8,800ë§Œì›</td><td class="text-right py-2 px-3 font-semibold">24%</td><td class="text-right py-2 px-3">576ë§Œì›</td></tr>
            <tr><td class="py-2 px-3">8,800ë§Œ~1.5ì–µì›</td><td class="text-right py-2 px-3 font-semibold">35%</td><td class="text-right py-2 px-3">1,544ë§Œì›</td></tr>
            <tr><td class="py-2 px-3">1.5ì–µ~3ì–µì›</td><td class="text-right py-2 px-3 font-semibold">38%</td><td class="text-right py-2 px-3">1,994ë§Œì›</td></tr>
            <tr><td class="py-2 px-3">3ì–µ~5ì–µì›</td><td class="text-right py-2 px-3 font-semibold">40%</td><td class="text-right py-2 px-3">2,594ë§Œì›</td></tr>
            <tr><td class="py-2 px-3">5ì–µ~10ì–µì›</td><td class="text-right py-2 px-3 font-semibold">42%</td><td class="text-right py-2 px-3">3,594ë§Œì›</td></tr>
            <tr><td class="py-2 px-3">10ì–µì› ì´ˆê³¼</td><td class="text-right py-2 px-3 font-semibold">45%</td><td class="text-right py-2 px-3">6,594ë§Œì›</td></tr>
          </tbody>
        </table>
      </div>

      <h3 class="text-sm font-bold mb-2">ğŸ“Œ ë²•ì¸ì„¸ìœ¨ ë¹„êµ</h3>
      <div class="overflow-x-auto mb-4">
        <table class="w-full text-sm">
          <thead><tr class="border-b border-border"><th class="text-left py-2 px-3 text-xs text-muted-foreground">ê³¼ì„¸í‘œì¤€</th><th class="text-right py-2 px-3 text-xs text-muted-foreground">2025ë…„</th><th class="text-right py-2 px-3 text-xs text-violet-600 dark:text-violet-400 font-bold">2026ë…„~</th></tr></thead>
          <tbody class="divide-y divide-border">
            <tr><td class="py-2 px-3">2ì–µì› ì´í•˜</td><td class="text-right py-2 px-3">9%</td><td class="text-right py-2 px-3 font-bold text-violet-600 dark:text-violet-400">10%</td></tr>
            <tr><td class="py-2 px-3">2ì–µ~200ì–µì›</td><td class="text-right py-2 px-3">19%</td><td class="text-right py-2 px-3 font-bold text-violet-600 dark:text-violet-400">20%</td></tr>
            <tr><td class="py-2 px-3">200ì–µ~3,000ì–µì›</td><td class="text-right py-2 px-3">21%</td><td class="text-right py-2 px-3 font-bold text-violet-600 dark:text-violet-400">22%</td></tr>
            <tr><td class="py-2 px-3">3,000ì–µì› ì´ˆê³¼</td><td class="text-right py-2 px-3">24%</td><td class="text-right py-2 px-3 font-bold text-violet-600 dark:text-violet-400">25%</td></tr>
          </tbody>
        </table>
      </div>
      <p class="text-xs text-muted-foreground">* ì§€ë°©ì†Œë“ì„¸ 10% ë³„ë„. 2026ë…„ë¶€í„° ì „ êµ¬ê°„ 1%p ì¸ìƒ ì ìš©.</p>
    </div>

    <!-- ì¥ë‹¨ì  ì•„ì½”ë””ì–¸ -->
    <div class="space-y-3">
      <details class="bg-card border border-border rounded-xl">
        <summary class="px-5 py-4 font-semibold text-sm cursor-pointer hover:bg-accent rounded-xl">ğŸŸ¢ ë²•ì¸ì „í™˜ì˜ ì¥ì </summary>
        <div class="px-5 pb-4 text-sm text-muted-foreground">
          <ul class="list-disc pl-5 space-y-2 mt-2">
            <li><strong>ì„¸ê¸ˆ ì ˆê°:</strong> ì†Œë“ì´ ë†’ì„ìˆ˜ë¡ ë²•ì¸ì„¸ìœ¨(10~25%)ì´ ì¢…í•©ì†Œë“ì„¸ìœ¨(6~45%)ë³´ë‹¤ ìœ ë¦¬</li>
            <li><strong>ëŒ€ì™¸ ì‹ ë¢°ë„:</strong> ê±°ë˜ì²˜Â·ê¸ˆìœµê¸°ê´€ì—ì„œ ë²•ì¸ ìš°ëŒ€</li>
            <li><strong>ìœ í•œì±…ì„:</strong> ì¶œìì•¡ í•œë„ ë‚´ì—ì„œë§Œ ì±…ì„ (ê°œì¸ì¬ì‚° ë³´í˜¸)</li>
            <li><strong>ìê¸ˆì¡°ë‹¬:</strong> íˆ¬ììœ ì¹˜Â·ëŒ€ì¶œì—ì„œ ìœ ë¦¬</li>
            <li><strong>ì‚¬ì—… ìŠ¹ê³„:</strong> ì£¼ì‹ ì–‘ë„ë¡œ ìš©ì´</li>
            <li><strong>ë¹„ìš© ì¸ì •:</strong> ëŒ€í‘œì ê¸‰ì—¬Â·í‡´ì§ê¸ˆ ë“± ê²½ë¹„ ì¸ì • í­ ë„“ìŒ</li>
          </ul>
        </div>
      </details>
      <details class="bg-card border border-border rounded-xl">
        <summary class="px-5 py-4 font-semibold text-sm cursor-pointer hover:bg-accent rounded-xl">ğŸ”´ ë²•ì¸ì „í™˜ì˜ ë‹¨ì </summary>
        <div class="px-5 pb-4 text-sm text-muted-foreground">
          <ul class="list-disc pl-5 space-y-2 mt-2">
            <li><strong>ì„¤ë¦½/ìš´ì˜ ë¹„ìš©:</strong> ë²•ì¸ ì„¤ë¦½ë¹„Â·ì„¸ë¬´ê¸°ì¥ë£ŒÂ·ë²•ì¸ì„¸ ì‹ ê³ ë¹„ìš© ë“± ì¶”ê°€</li>
            <li><strong>ì´ì¤‘ê³¼ì„¸:</strong> ë²•ì¸ì„¸ ë‚©ë¶€ í›„ ë°°ë‹¹ ì‹œ ë°°ë‹¹ì†Œë“ì„¸ ì¶”ê°€ ë°œìƒ</li>
            <li><strong>ìê¸ˆ ì¸ì¶œ ì œí•œ:</strong> ë²•ì¸ ìê¸ˆ ì„ì˜ ì‚¬ìš© ë¶ˆê°€ (ê°€ì§€ê¸‰ê¸ˆ ë¬¸ì œ)</li>
            <li><strong>ì˜ë¬´ì‚¬í•­ ì¦ê°€:</strong> ì£¼ì£¼ì´íšŒÂ·ì´ì‚¬íšŒ ë“± ì ˆì°¨ í•„ìš”</li>
            <li><strong>4ëŒ€ë³´í—˜ ì˜ë¬´ê°€ì…:</strong> ëŒ€í‘œìë„ ì˜ë¬´ê°€ì… (ë¹„ìš© ì¦ê°€)</li>
          </ul>
        </div>
      </details>
      <details class="bg-card border border-border rounded-xl">
        <summary class="px-5 py-4 font-semibold text-sm cursor-pointer hover:bg-accent rounded-xl">â° ë²•ì¸ì „í™˜ ì ì • ì‹œê¸°</summary>
        <div class="px-5 pb-4 text-sm text-muted-foreground">
          <ul class="list-disc pl-5 space-y-2 mt-2">
            <li><strong>ì—° ìˆœì´ìµ 5,000ë§Œì› ì´ìƒ:</strong> ì ˆì„¸ íš¨ê³¼ ë³¸ê²© ë°œìƒ</li>
            <li><strong>ì—° ìˆœì´ìµ 1ì–µì› ì´ìƒ:</strong> ë²•ì¸ ì „í™˜ í™•ì‹¤íˆ ìœ ë¦¬</li>
            <li><strong>ì™¸ë¶€ íˆ¬ì ìœ ì¹˜ ê³„íš</strong>ì´ ìˆì„ ë•Œ</li>
            <li><strong>ì‚¬ì—… í™•ì¥/ìŠ¹ê³„ ê³„íš</strong>ì´ ìˆì„ ë•Œ</li>
            <li><strong>ëŒ€ê¸°ì—…/ê³µê³µê¸°ê´€ ê±°ë˜</strong> ì‹œ ë²•ì¸ í•„ìˆ˜</li>
          </ul>
        </div>
      </details>
    </div>
  </div>
</main>

<!-- Footer -->
<footer class="border-t border-border py-6 px-4 text-center text-xs text-muted-foreground">
  <div class="max-w-5xl mx-auto space-y-2">
    <p><strong>ë©´ì±…ì¡°í•­:</strong> ë³¸ ì‹œë®¬ë ˆì´í„°ëŠ” ì°¸ê³  ëª©ì ìœ¼ë¡œ ì œê³µë˜ë©°, ë²•ì  íš¨ë ¥ì´ ì—†ìŠµë‹ˆë‹¤. ì‹¤ì œ ì„¸ê¸ˆì€ ê°œì¸ ìƒí™©ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë°˜ë“œì‹œ ì„¸ë¬´ ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ì„¸ìš”.</p>
    <p>ì„¸ìœ¨ ì¶œì²˜: <a href="https://www.nts.go.kr" target="_blank" class="underline hover:text-foreground">êµ­ì„¸ì²­</a> Â· <a href="https://www.law.go.kr" target="_blank" class="underline hover:text-foreground">êµ­ê°€ë²•ë ¹ì •ë³´ì„¼í„°</a> Â· 2026ë…„ ì„¸ë²• ê°œì •ì•ˆ ê¸°ì¤€</p>
    <div class="mt-3 pt-3 border-t border-border flex flex-col items-center gap-1.5">
      <div class="flex items-center gap-2">
        <img src="logo.png" alt="ì—˜ë¹„ì¦ˆ íŒŒíŠ¸ë„ˆìŠ¤" class="w-5 h-5 object-contain opacity-60">
        <span class="font-medium text-foreground">ì—˜ë¹„ì¦ˆ íŒŒíŠ¸ë„ˆìŠ¤</span>
      </div>
      <p>ì´ìƒìˆ˜ ëŒ€í‘œ Â· 010-3709-5785 Â· <a href="mailto:sangsu0916@naver.com" class="underline hover:text-foreground">sangsu0916@naver.com</a></p>
      <p class="text-muted-foreground/60">Â© 2026 ë²•ì¸ì „í™˜ ì‹œë®¬ë ˆì´í„° Â· ì—˜ë¹„ì¦ˆ íŒŒíŠ¸ë„ˆìŠ¤</p>
    </div>
  </div>
</footer>

<script>
// ===== Utilities =====
const $ = id => document.getElementById(id);
const fmt = el => { el.value = el.value.replace(/[^\d]/g,'').replace(/\B(?=(\d{3})+(?!\d))/g,','); };
const pn = s => parseInt((s||'0').replace(/[^\d]/g,''))||0;
const fc = n => { if(Math.abs(n)>=1e8) return (n/1e8).toFixed(1).replace(/\.0$/,'')+'ì–µì›'; if(Math.abs(n)>=1e4) return Math.round(n/1e4).toLocaleString()+'ë§Œì›'; return Math.round(n).toLocaleString()+'ì›'; };
const ff = n => Math.round(n).toLocaleString('ko-KR')+'ì›';

// ===== Dark Mode =====
function toggleDark() {
  document.documentElement.classList.toggle('dark');
  const isDark = document.documentElement.classList.contains('dark');
  localStorage.setItem('dark', isDark);
  $('darkIcon').textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
  // Recreate charts if they exist
  if(window._lastSim) { renderCharts(window._lastSim); }
}
if(localStorage.getItem('dark')==='true' || (!localStorage.getItem('dark') && matchMedia('(prefers-color-scheme:dark)').matches)) {
  document.documentElement.classList.add('dark');
  document.addEventListener('DOMContentLoaded', ()=>{ $('darkIcon').textContent='â˜€ï¸'; });
}

// ===== Tabs =====
function switchTab(tab, btn) {
  document.querySelectorAll('[id^="tab-"]').forEach(el=>el.classList.add('hidden'));
  $(('tab-'+tab)).classList.remove('hidden');
  document.querySelectorAll('.tab-btn').forEach(b=>{ b.classList.remove('bg-violet-600','text-white','dark:bg-violet-700'); b.classList.add('text-muted-foreground'); });
  if(btn){ btn.classList.add('bg-violet-600','text-white','dark:bg-violet-700'); btn.classList.remove('text-muted-foreground'); }
}
// init active tab style
document.addEventListener('DOMContentLoaded', ()=>{
  const first = document.querySelector('.tab-btn');
  if(first){ first.classList.add('bg-violet-600','text-white','dark:bg-violet-700'); first.classList.remove('text-muted-foreground'); }
  buildChecklist();
});

// ===== Tax Calculations =====
function calcIncomeTax(income, year) {
  // ì¢…í•©ì†Œë“ì„¸ - ë™ì¼ (2025/2026 ë³€ë™ ì—†ìŒ)
  const b = [
    {l:14000000,r:0.06,d:0},{l:50000000,r:0.15,d:1260000},{l:88000000,r:0.24,d:5760000},
    {l:150000000,r:0.35,d:15440000},{l:300000000,r:0.38,d:19940000},{l:500000000,r:0.40,d:25940000},
    {l:1000000000,r:0.42,d:35940000},{l:Infinity,r:0.45,d:65940000}
  ];
  for(const x of b) if(income<=x.l) return Math.max(0, income*x.r - x.d);
  return 0;
}

function calcCorpTax(income, year) {
  const offset = year==='2025' ? -0.01 : 0; // 2025: ê° êµ¬ê°„ 1%p ë‚®ìŒ
  const brackets = [
    {l:200000000, r:0.10+offset},
    {l:20000000000, r:0.20+offset},
    {l:300000000000, r:0.22+offset},
    {l:Infinity, r:0.25+offset}
  ];
  let tax=0, rem=income, prev=0;
  for(const b of brackets) {
    const t = Math.min(rem, b.l-prev);
    if(t<=0)break;
    tax += t*b.r;
    rem -= t;
    prev = b.l;
    if(rem<=0)break;
  }
  return tax;
}

function calcDividendTax(div, otherIncome, year) {
  if(div<=0) return 0;
  if(div<=20000000) return div*0.154;
  const w = 20000000*0.154;
  const excess = div-20000000;
  const combined = otherIncome+excess;
  const totalTax = calcIncomeTax(combined, year);
  const baseTax = calcIncomeTax(otherIncome, year);
  return w + (totalTax-baseTax)*1.1;
}

// ===== Main Simulation =====
let barChartInst, donutChartInst, fiveYearChartInst, divChartInst;

function simulate() {
  const profit = pn($('profit').value);
  const ceoSalaryM = pn($('ceoSalary').value);
  const divRatio = parseInt($('dividendRatio').value)/100;
  const year = $('taxYear').value;
  const industry = $('industry').value;

  // ì†Œë“ê³µì œ
  const dependents = parseInt($('dependents').value)||1;
  const pension = pn($('pension').value);
  const otherDed = pn($('otherDeduction').value);
  const totalDeduction = dependents*1500000 + pension + otherDed;

  if(!profit){ alert('ì—°ê°„ ìˆœì´ìµì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }

  const yearlyCeo = ceoSalaryM*12;

  // === ê°œì¸ ===
  const indTaxable = Math.max(0, profit - totalDeduction);
  const indIncome = calcIncomeTax(indTaxable, year);
  const indLocal = indIncome*0.1;
  const indTotal = indIncome+indLocal;

  // === ë²•ì¸ ===
  const corpProfit = Math.max(0, profit-yearlyCeo);
  const corpTax = calcCorpTax(corpProfit, year);
  const corpLocal = corpTax*0.1;

  // ëŒ€í‘œ ê¸‰ì—¬ ì†Œë“ì„¸ (ê·¼ë¡œì†Œë“ê³µì œ ê°„ì´)
  const ceoTaxable = Math.max(0, yearlyCeo - totalDeduction);
  const ceoIncome = calcIncomeTax(ceoTaxable, year);
  const ceoLocal = ceoIncome*0.1;

  // ë°°ë‹¹
  const afterCorpTax = corpProfit - corpTax - corpLocal;
  const divAmount = Math.max(0, afterCorpTax * divRatio);
  const divTax = calcDividendTax(divAmount, yearlyCeo, year);

  const corpTotal = corpTax+corpLocal+ceoIncome+ceoLocal+divTax;
  const savings = indTotal - corpTotal;
  const ceo4ins = yearlyCeo*0.0945*2;

  // Store for other tabs
  window._lastSim = { profit, yearlyCeo, divRatio, year, industry, totalDeduction, indTotal, corpTotal, savings, corpProfit, corpTax, corpLocal, ceoIncome, ceoLocal, divAmount, divTax, afterCorpTax, indIncome, indLocal, indTaxable, ceoTaxable, ceo4ins };

  // Show results
  $('results').classList.remove('hidden');
  $('indTotal').textContent = fc(indTotal);
  $('corpTotalEl').textContent = fc(corpTotal);

  const sc = $('savingsCard');
  if(savings>0) {
    sc.className = 'rounded-xl p-5 text-center mb-4 bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-200 dark:border-emerald-800';
    $('savLabel').className = 'text-sm font-semibold text-emerald-700 dark:text-emerald-400';
    $('savAmount').className = 'text-3xl font-bold mt-1 text-emerald-700 dark:text-emerald-400';
    $('savAmount').textContent = fc(savings);
    $('savDesc').className = 'text-xs mt-1 text-emerald-600 dark:text-emerald-400';
    $('savDesc').textContent = 'ë²•ì¸ ì „í™˜ ì‹œ ì—°ê°„ ì ˆì„¸ ê°€ëŠ¥';
  } else {
    sc.className = 'rounded-xl p-5 text-center mb-4 bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800';
    $('savLabel').className = 'text-sm font-semibold text-red-700 dark:text-red-400';
    $('savAmount').className = 'text-3xl font-bold mt-1 text-red-700 dark:text-red-400';
    $('savAmount').textContent = fc(Math.abs(savings));
    $('savDesc').className = 'text-xs mt-1 text-red-600 dark:text-red-400';
    $('savDesc').textContent = 'í˜„ì¬ ìƒí™©ì—ì„œëŠ” ê°œì¸ì‚¬ì—…ìê°€ ìœ ë¦¬';
  }

  // ë¶€ë™ì‚°ì„ëŒ€ì—… ê²½ê³ 
  $('realestateWarning').classList.toggle('hidden', industry!=='realestate');

  // Detail tables
  $('indTable').innerHTML = `
    <thead><tr class="border-b border-border"><th class="text-left py-2 text-xs text-muted-foreground">í•­ëª©</th><th class="text-right py-2 text-xs text-muted-foreground">ê¸ˆì•¡</th></tr></thead>
    <tbody class="divide-y divide-border">
      <tr><td class="py-2">ìˆœì´ìµ</td><td class="text-right py-2 font-mono">${ff(profit)}</td></tr>
      <tr><td class="py-2">ì†Œë“ê³µì œ í•©ê³„</td><td class="text-right py-2 font-mono text-muted-foreground">âˆ’${ff(totalDeduction)}</td></tr>
      <tr><td class="py-2">ê³¼ì„¸í‘œì¤€</td><td class="text-right py-2 font-mono">${ff(indTaxable)}</td></tr>
      <tr><td class="py-2">ì¢…í•©ì†Œë“ì„¸</td><td class="text-right py-2 font-mono">${ff(indIncome)}</td></tr>
      <tr><td class="py-2">ì§€ë°©ì†Œë“ì„¸ (10%)</td><td class="text-right py-2 font-mono">${ff(indLocal)}</td></tr>
      <tr class="bg-amber-50 dark:bg-amber-950/20 font-bold"><td class="py-2">ì´ ì„¸ê¸ˆ</td><td class="text-right py-2 font-mono">${ff(indTotal)}</td></tr>
      <tr><td class="py-2 text-muted-foreground">ì„¸í›„ ìˆœìˆ˜ìµ</td><td class="text-right py-2 font-mono">${ff(profit-indTotal)}</td></tr>
    </tbody>`;

  $('corpTable').innerHTML = `
    <thead><tr class="border-b border-border"><th class="text-left py-2 text-xs text-muted-foreground">í•­ëª©</th><th class="text-right py-2 text-xs text-muted-foreground">ê¸ˆì•¡</th></tr></thead>
    <tbody class="divide-y divide-border">
      <tr><td class="py-2">ëŒ€í‘œì ì—°ë´‰</td><td class="text-right py-2 font-mono">${ff(yearlyCeo)}</td></tr>
      <tr><td class="py-2">ë²•ì¸ ê³¼ì„¸ì†Œë“</td><td class="text-right py-2 font-mono">${ff(corpProfit)}</td></tr>
      <tr><td class="py-2">ë²•ì¸ì„¸</td><td class="text-right py-2 font-mono">${ff(corpTax)}</td></tr>
      <tr><td class="py-2">ë²•ì¸ ì§€ë°©ì†Œë“ì„¸</td><td class="text-right py-2 font-mono">${ff(corpLocal)}</td></tr>
      <tr><td class="py-2">ëŒ€í‘œ ì†Œë“ì„¸</td><td class="text-right py-2 font-mono">${ff(ceoIncome)}</td></tr>
      <tr><td class="py-2">ëŒ€í‘œ ì§€ë°©ì†Œë“ì„¸</td><td class="text-right py-2 font-mono">${ff(ceoLocal)}</td></tr>
      ${divAmount>0?`<tr><td class="py-2">ë°°ë‹¹ê¸ˆ (${Math.round(divRatio*100)}%)</td><td class="text-right py-2 font-mono">${ff(divAmount)}</td></tr>
      <tr><td class="py-2">ë°°ë‹¹ì†Œë“ì„¸</td><td class="text-right py-2 font-mono">${ff(divTax)}</td></tr>`:''}
      <tr class="bg-violet-50 dark:bg-violet-950/20 font-bold"><td class="py-2">ì´ ì„¸ê¸ˆ</td><td class="text-right py-2 font-mono">${ff(corpTotal)}</td></tr>
    </tbody>`;

  // Recommendation
  let rec = '';
  if(savings>10000000) {
    rec = `<p class="font-semibold text-emerald-600 dark:text-emerald-400 mb-2">âœ… ë²•ì¸ ì „í™˜ì„ ì ê·¹ ê¶Œì¥í•©ë‹ˆë‹¤.</p>
    <p class="text-sm text-muted-foreground">ì—°ê°„ ì•½ <strong>${fc(savings)}</strong> ì ˆì„¸ íš¨ê³¼. ${profit>=1e8?'ìˆœì´ìµ 1ì–µì› ì´ìƒìœ¼ë¡œ ë²•ì¸ì„¸ìœ¨ì´ í¬ê²Œ ìœ ë¦¬í•©ë‹ˆë‹¤.':''}</p>`;
  } else if(savings>3000000) {
    rec = `<p class="font-semibold text-violet-600 dark:text-violet-400 mb-2">ğŸ” ë²•ì¸ ì „í™˜ì„ ê²€í† í•´ë³¼ ë§Œí•©ë‹ˆë‹¤.</p>
    <p class="text-sm text-muted-foreground">ì—°ê°„ ì•½ <strong>${fc(savings)}</strong> ì ˆì„¸ ê°€ëŠ¥. ë‹¤ë§Œ ìš´ì˜ë¹„(ì„¸ë¬´ê¸°ì¥ë£Œ ë“±)ë¥¼ ê³ ë ¤í•˜ë©´ ì‹¤ì œ ì´ìµì€ ì¤„ì–´ë“­ë‹ˆë‹¤.</p>`;
  } else if(savings>0) {
    rec = `<p class="font-semibold text-amber-600 dark:text-amber-400 mb-2">âš–ï¸ ì „í™˜ íš¨ê³¼ê°€ í¬ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
    <p class="text-sm text-muted-foreground">ì ˆì„¸ ì•½ <strong>${fc(savings)}</strong>ìœ¼ë¡œ, ìš´ì˜ë¹„ ê°ì•ˆ ì‹œ í° ì´ì ì´ ì—†ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>`;
  } else {
    rec = `<p class="font-semibold text-red-600 dark:text-red-400 mb-2">âŒ í˜„ì¬ëŠ” ê°œì¸ì‚¬ì—…ì ìœ ì§€ê°€ ìœ ë¦¬í•©ë‹ˆë‹¤.</p>
    <p class="text-sm text-muted-foreground">ë²•ì¸ ì „í™˜ ì‹œ ì˜¤íˆë ¤ ì„¸ê¸ˆì´ <strong>${fc(Math.abs(savings))}</strong> ì¦ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>`;
  }
  rec += `<div class="mt-4 bg-muted rounded-lg p-3 text-sm"><strong>ğŸ’¡ ì¶”ê°€ ê³ ë ¤:</strong>
    <ul class="mt-1 pl-5 list-disc text-muted-foreground space-y-1">
      <li>ë²•ì¸ ì„¤ë¦½ë¹„: ì•½ 80~150ë§Œì›</li><li>ì„¸ë¬´ê¸°ì¥ë£Œ: ì—° 120~360ë§Œì›</li>
      <li>ëŒ€í‘œ 4ëŒ€ë³´í—˜: ì•½ ${fc(ceo4ins)}/ë…„</li><li>ë²•ì¸ ìê¸ˆ ì¸ì¶œ ì‹œ ë°°ë‹¹ì„¸Â·ê¸‰ì—¬ì„¸ ë°œìƒ</li>
    </ul></div>`;
  $('recText').innerHTML = rec;

  renderCharts(window._lastSim);
  render5Year(window._lastSim);
  renderDividendTab(window._lastSim);

  // Scroll to results
  $('results').scrollIntoView({behavior:'smooth', block:'start'});
}

// ===== Charts =====
function renderCharts(d) {
  const isDark = document.documentElement.classList.contains('dark');
  const txtColor = isDark ? '#a1a1aa' : '#71717a';
  Chart.defaults.color = txtColor;
  Chart.defaults.borderColor = isDark ? 'rgba(255,255,255,0.08)' : 'rgba(0,0,0,0.06)';

  // Bar
  if(barChartInst) barChartInst.destroy();
  barChartInst = new Chart($('barChart'), {
    type:'bar',
    data:{
      labels:['ê°œì¸ì‚¬ì—…ì','ë²•ì¸'],
      datasets:[
        {label:'ì†Œë“ì„¸/ë²•ì¸ì„¸', data:[d.indIncome+d.indLocal, d.corpTax+d.corpLocal], backgroundColor: isDark?'rgba(249,115,22,0.7)':'rgba(249,115,22,0.8)', borderRadius:6},
        {label:'ëŒ€í‘œ ì†Œë“ì„¸', data:[0, d.ceoIncome+d.ceoLocal], backgroundColor: isDark?'rgba(139,92,246,0.7)':'rgba(139,92,246,0.8)', borderRadius:6},
        {label:'ë°°ë‹¹ì†Œë“ì„¸', data:[0, d.divTax], backgroundColor: isDark?'rgba(236,72,153,0.7)':'rgba(236,72,153,0.8)', borderRadius:6},
      ]
    },
    options:{responsive:true, maintainAspectRatio:false, plugins:{legend:{position:'bottom',labels:{usePointStyle:true,padding:12,font:{size:11}}}}, scales:{x:{stacked:true,grid:{display:false}},y:{stacked:true,ticks:{callback:v=>fc(v)}}}}
  });

  // Donut
  if(donutChartInst) donutChartInst.destroy();
  const corpParts = [d.corpTax+d.corpLocal, d.ceoIncome+d.ceoLocal, d.divTax].filter(v=>v>0);
  const corpLabels = ['ë²•ì¸ì„¸+ì§€ë°©ì„¸','ëŒ€í‘œ ì†Œë“ì„¸+ì§€ë°©ì„¸','ë°°ë‹¹ì†Œë“ì„¸'].filter((_,i)=>[d.corpTax+d.corpLocal, d.ceoIncome+d.ceoLocal, d.divTax][i]>0);
  donutChartInst = new Chart($('donutChart'), {
    type:'doughnut',
    data:{
      labels:corpLabels,
      datasets:[{data:corpParts, backgroundColor:['rgba(139,92,246,0.8)','rgba(59,130,246,0.8)','rgba(236,72,153,0.8)'], borderWidth:0}]
    },
    options:{responsive:true, maintainAspectRatio:false, cutout:'60%', plugins:{legend:{position:'bottom',labels:{usePointStyle:true,padding:12,font:{size:11}}}}}
  });
}

// ===== 5-Year Tab =====
function render5Year(d) {
  $('fiveYearNote').classList.add('hidden');
  $('fiveYearContent').classList.remove('hidden');

  // ë²•ì¸ ì„¤ë¦½ë¹„ ìƒì„¸
  const setupItems = [
    ['ë“±ë¡ë©´í—ˆì„¸ (ìë³¸ê¸ˆÃ—0.4%)', Math.max(135000, 0)], // ìµœì†Œ 112,500 + êµìœ¡ì„¸
    ['êµìœ¡ì„¸ (ë“±ë¡ë©´í—ˆì„¸Ã—20%)', 0],
    ['ë²•ë¬´ì‚¬ ìˆ˜ìˆ˜ë£Œ', 500000],
    ['ì¸ê°ì œì‘ë¹„', 30000],
    ['ë“±ê¸°ìˆ˜ìˆ˜ë£ŒÂ·ê³µê³¼ê¸ˆ', 50000],
    ['ì •ê´€ ì¸ì¦ (ê³µì¦ë¹„)', 100000],
    ['ê¸°íƒ€ (í†µì¥ ê°œì„¤ ë“±)', 20000],
  ];
  // ë“±ë¡ë©´í—ˆì„¸ ê³„ì‚° (ìë³¸ê¸ˆ ê¸°ë°˜, ìµœì†Œ 112,500ì›)
  const capital = 50000000; // ê¸°ë³¸ 5ì²œë§Œì› ê°€ì •
  setupItems[0][1] = Math.max(112500, Math.round(capital*0.004));
  setupItems[1][1] = Math.round(setupItems[0][1]*0.2);
  const setupTotal = setupItems.reduce((s,x)=>s+x[1],0);

  $('setupCostTable').innerHTML = `
    <thead><tr class="border-b border-border"><th class="text-left py-2 text-xs text-muted-foreground">í•­ëª©</th><th class="text-right py-2 text-xs text-muted-foreground">ê¸ˆì•¡</th></tr></thead>
    <tbody class="divide-y divide-border">
      ${setupItems.map(x=>`<tr><td class="py-2">${x[0]}</td><td class="text-right py-2 font-mono">${ff(x[1])}</td></tr>`).join('')}
      <tr class="font-bold bg-muted"><td class="py-2">í•©ê³„ (1íšŒì„±)</td><td class="text-right py-2 font-mono">${ff(setupTotal)}</td></tr>
    </tbody>`;

  const annualCost = 2400000; // ì„¸ë¬´ê¸°ì¥ë£Œ ì›” 20ë§Œ
  const annualItems = [['ì„¸ë¬´ê¸°ì¥ë£Œ (ì›” 20ë§Œì›)', 2400000],['ë²•ì¸ì„¸ ì‹ ê³  ìˆ˜ìˆ˜ë£Œ', 500000],['4ëŒ€ë³´í—˜ ëŒ€í‘œ ì¶”ê°€ë¶€ë‹´ (ì¶”ì •)', Math.round(d.ceo4ins/2)]];
  const annualTotal = annualItems.reduce((s,x)=>s+x[1],0);

  $('annualCostTable').innerHTML = `
    <thead><tr class="border-b border-border"><th class="text-left py-2 text-xs text-muted-foreground">í•­ëª©</th><th class="text-right py-2 text-xs text-muted-foreground">ì—°ê°„ ê¸ˆì•¡</th></tr></thead>
    <tbody class="divide-y divide-border">
      ${annualItems.map(x=>`<tr><td class="py-2">${x[0]}</td><td class="text-right py-2 font-mono">${ff(x[1])}</td></tr>`).join('')}
      <tr class="font-bold bg-muted"><td class="py-2">í•©ê³„ (ì—°ê°„)</td><td class="text-right py-2 font-mono">${ff(annualTotal)}</td></tr>
    </tbody>`;

  // 5ë…„ ëˆ„ì 
  const years = [1,2,3,4,5];
  const indCum = [], corpCum = [], netSav = [];
  let indAcc=0, corpAcc=0;
  const rows = years.map(y => {
    indAcc += d.indTotal;
    const corpYearCost = d.corpTotal + annualTotal + (y===1?setupTotal:0);
    corpAcc += corpYearCost;
    indCum.push(indAcc);
    corpCum.push(corpAcc);
    netSav.push(indAcc-corpAcc);
    return `<tr class="${indAcc-corpAcc>0?'':'text-red-600 dark:text-red-400'}"><td class="py-2">${y}ë…„ì°¨</td><td class="text-right py-2 font-mono">${ff(indAcc)}</td><td class="text-right py-2 font-mono">${ff(corpAcc)}</td><td class="text-right py-2 font-mono font-bold">${indAcc-corpAcc>0?'+':''}${ff(indAcc-corpAcc)}</td></tr>`;
  });

  $('fiveYearTable').innerHTML = `
    <thead><tr class="border-b border-border"><th class="text-left py-2 text-xs text-muted-foreground">ê¸°ê°„</th><th class="text-right py-2 text-xs text-orange-600">ê°œì¸ ëˆ„ì ì„¸ê¸ˆ</th><th class="text-right py-2 text-xs text-violet-600">ë²•ì¸ ëˆ„ì ë¹„ìš©</th><th class="text-right py-2 text-xs text-muted-foreground">ëˆ„ì  ì ˆì„¸ì•¡</th></tr></thead>
    <tbody class="divide-y divide-border">${rows.join('')}</tbody>`;

  // Chart
  const isDark = document.documentElement.classList.contains('dark');
  if(fiveYearChartInst) fiveYearChartInst.destroy();
  fiveYearChartInst = new Chart($('fiveYearChart'), {
    type:'line',
    data:{
      labels:['1ë…„','2ë…„','3ë…„','4ë…„','5ë…„'],
      datasets:[
        {label:'ê°œì¸ ëˆ„ì ì„¸ê¸ˆ', data:indCum, borderColor:'rgb(249,115,22)', backgroundColor:'rgba(249,115,22,0.1)', fill:true, tension:0.3},
        {label:'ë²•ì¸ ëˆ„ì ë¹„ìš©', data:corpCum, borderColor:'rgb(139,92,246)', backgroundColor:'rgba(139,92,246,0.1)', fill:true, tension:0.3},
        {label:'ëˆ„ì  ì ˆì„¸ì•¡', data:netSav, borderColor:'rgb(16,185,129)', backgroundColor:'rgba(16,185,129,0.1)', fill:true, tension:0.3, borderDash:[5,5]}
      ]
    },
    options:{responsive:true, maintainAspectRatio:false, plugins:{legend:{position:'bottom',labels:{usePointStyle:true,padding:12,font:{size:11}}}}, scales:{y:{ticks:{callback:v=>fc(v)}}}}
  });
}

// ===== Dividend Tab =====
function renderDividendTab(d) {
  $('divNote').classList.add('hidden');
  $('divContent').classList.remove('hidden');

  const ratios = [0,10,20,30,40,50,60,70,80,90,100];
  const results = ratios.map(r => {
    const ratio = r/100;
    const div = Math.max(0, d.afterCorpTax*ratio);
    const divT = calcDividendTax(div, d.yearlyCeo, d.year);
    const total = d.corpTax+d.corpLocal+d.ceoIncome+d.ceoLocal+divT;
    return {ratio:r, divAmount:div, divTax:divT, total, savings:d.indTotal-total};
  });

  const optimal = results.reduce((best,x) => x.total<best.total?x:best, results[0]);

  $('divOnly0').textContent = fc(results[0].total);
  $('divOptimal').textContent = `${optimal.ratio}% â†’ ${fc(optimal.total)}`;
  $('divOnly100').textContent = fc(results[results.length-1].total);

  $('divTable').innerHTML = `
    <thead><tr class="border-b border-border"><th class="text-left py-2 text-xs text-muted-foreground">ë°°ë‹¹ë¹„ìœ¨</th><th class="text-right py-2 text-xs text-muted-foreground">ë°°ë‹¹ê¸ˆ</th><th class="text-right py-2 text-xs text-muted-foreground">ë°°ë‹¹ì„¸</th><th class="text-right py-2 text-xs text-muted-foreground">ì´ì„¸ê¸ˆ</th><th class="text-right py-2 text-xs text-muted-foreground">ì ˆì„¸ì•¡</th></tr></thead>
    <tbody class="divide-y divide-border">
      ${results.map(r=>`<tr class="${r.ratio===optimal.ratio?'bg-violet-50 dark:bg-violet-950/20 font-bold':''}"><td class="py-2">${r.ratio}%</td><td class="text-right py-2 font-mono">${fc(r.divAmount)}</td><td class="text-right py-2 font-mono">${fc(r.divTax)}</td><td class="text-right py-2 font-mono">${fc(r.total)}</td><td class="text-right py-2 font-mono ${r.savings>0?'text-emerald-600':'text-red-600'}">${r.savings>0?'+':''}${fc(r.savings)}</td></tr>`).join('')}
    </tbody>`;

  const isDark = document.documentElement.classList.contains('dark');
  if(divChartInst) divChartInst.destroy();
  divChartInst = new Chart($('divChart'), {
    type:'bar',
    data:{
      labels:ratios.map(r=>r+'%'),
      datasets:[
        {label:'ë²•ì¸ì„¸+ëŒ€í‘œì†Œë“ì„¸', data:results.map(r=>r.total-r.divTax), backgroundColor:'rgba(139,92,246,0.7)', borderRadius:4},
        {label:'ë°°ë‹¹ì†Œë“ì„¸', data:results.map(r=>r.divTax), backgroundColor:'rgba(236,72,153,0.7)', borderRadius:4},
      ]
    },
    options:{responsive:true, maintainAspectRatio:false, plugins:{legend:{position:'bottom',labels:{usePointStyle:true,padding:12,font:{size:11}}}}, scales:{x:{stacked:true,grid:{display:false}},y:{stacked:true,ticks:{callback:v=>fc(v)}}}}
  });
}

// ===== Checklist =====
const checklistData = [
  {title:'ğŸ“ ì‚¬ì „ ì¤€ë¹„', items:[
    ['ì‚¬ì—…íƒ€ë‹¹ì„± ê²€í† ','ë²•ì¸ì „í™˜ì˜ í•„ìš”ì„±ê³¼ ì ì • ì‹œê¸° ê²€í† '],
    ['ì„¸ë¬´ì‚¬/íšŒê³„ì‚¬ ìƒë‹´','ì ˆì„¸íš¨ê³¼ ë° ë²•ì¸ í˜•íƒœ(ì£¼ì‹íšŒì‚¬/ìœ í•œíšŒì‚¬) ê²°ì •'],
    ['ìë³¸ê¸ˆ ê²°ì •','ìµœì†Œ ìë³¸ê¸ˆ ì œí•œ ì—†ìŒ, í†µìƒ 1,000ë§Œì›~1ì–µì›'],
    ['ìƒí˜¸ ê²°ì • ë° ì¤‘ë³µ í™•ì¸','ì¸í„°ë„·ë“±ê¸°ì†Œì—ì„œ ìƒí˜¸ ì¤‘ë³µ ì—¬ë¶€ í™•ì¸'],
  ]},
  {title:'ğŸ“„ ë²•ì¸ ì„¤ë¦½', items:[
    ['ì •ê´€ ì‘ì„±','íšŒì‚¬ ì¡°ì§Â·ìš´ì˜ì— ê´€í•œ ê¸°ë³¸ ê·œì¹™'],
    ['ì£¼ì£¼ëª…ë¶€ ì‘ì„±','ì¶œìì ì •ë³´, ì£¼ì‹ ìˆ˜, ì§€ë¶„ìœ¨ ê¸°ì¬'],
    ['ìë³¸ê¸ˆ ë‚©ì…','ì€í–‰ ê³„ì¢Œ ê°œì„¤ í›„ ìë³¸ê¸ˆ ë‚©ì…, ì”ê³ ì¦ëª…ì„œ ë°œê¸‰'],
    ['ë²•ì¸ ì„¤ë¦½ë“±ê¸°','ë“±ê¸°ì†Œ ë°©ë¬¸ ë˜ëŠ” ì¸í„°ë„·ë“±ê¸°ì†Œ ì‹ ì²­'],
    ['ë²•ì¸ ì¸ê° ë“±ë¡','ë²•ì¸ ì¸ê° ì œì‘ ë° ë“±ë¡'],
  ]},
  {title:'ğŸ›ï¸ ì‹ ê³  ë° ë“±ë¡', items:[
    ['ì‚¬ì—…ìë“±ë¡ ì‹ ì²­','ê´€í•  ì„¸ë¬´ì„œ ë˜ëŠ” í™ˆíƒìŠ¤ì—ì„œ ë²•ì¸ ì‚¬ì—…ìë“±ë¡'],
    ['ê°œì¸ì‚¬ì—…ì íì—… ì‹ ê³ ','ê¸°ì¡´ ê°œì¸ì‚¬ì—…ì íì—… ì²˜ë¦¬ (ë¶€ê°€ì„¸ í™•ì •ì‹ ê³  í¬í•¨)'],
    ['4ëŒ€ë³´í—˜ ì‚¬ì—…ì¥ ê°€ì…','ë²•ì¸ ëª…ì˜ë¡œ 4ëŒ€ë³´í—˜ ì‚¬ì—…ì¥ ì‹ ê·œ ê°€ì…'],
    ['ë²•ì¸ í†µì¥ ê°œì„¤','ë²•ì¸ ëª…ì˜ ì‚¬ì—…ìš© ê³„ì¢Œ ê°œì„¤'],
    ['ê³„ì•½ì„œ/ê±°ë˜ì²˜ ëª…ì˜ ë³€ê²½','ì„ëŒ€ì°¨ê³„ì•½, ê±°ë˜ì²˜ ê³„ì•½ ë“± ë²•ì¸ ëª…ì˜ë¡œ ë³€ê²½'],
  ]},
  {title:'ğŸ’¼ ìì‚° ì´ì „ (í•´ë‹¹ ì‹œ)', items:[
    ['ì „í™˜ ë°©ì‹ ê²°ì •','í˜„ë¬¼ì¶œì vs ì‚¬ì—…ì–‘ìˆ˜ë„ vs ì‹ ê·œì„¤ë¦½ (ì„¸ë¬´ì‚¬ ìƒë‹´ í•„ìˆ˜)'],
    ['ìì‚°/ë¶€ì±„ ì‹¤ì‚¬','ì´ì „í•  ìì‚°Â·ë¶€ì±„ ëª©ë¡ ì •ë¦¬, ê°ì •í‰ê°€'],
    ['ì–‘ë„ì†Œë“ì„¸/ì·¨ë“ì„¸ ê²€í† ','ë¶€ë™ì‚° ë“± ìì‚° ì´ì „ ì‹œ ì„¸ê¸ˆ í™•ì¸'],
    ['ëª…ì˜ ë³€ê²½ ì™„ë£Œ','ì°¨ëŸ‰, ë¶€ë™ì‚°, ì§€ì‹ì¬ì‚°ê¶Œ ë“± ë²•ì¸ ëª…ì˜ ì´ì „'],
  ]},
];

function buildChecklist() {
  const area = $('checklistArea');
  let html = '';
  checklistData.forEach(section => {
    html += `<h3 class="text-sm font-bold text-violet-600 dark:text-violet-400 mb-3 mt-5 first:mt-0">${section.title}</h3>`;
    section.items.forEach(([title,desc]) => {
      html += `<div class="flex items-start gap-3 py-3 border-b border-border">
        <button onclick="toggleCk(this)" class="mt-0.5 flex-shrink-0 w-6 h-6 rounded-full border-2 border-zinc-300 dark:border-zinc-600 flex items-center justify-center text-xs transition hover:border-violet-500" data-checked="0"></button>
        <div><div class="text-sm font-semibold">${title}</div><div class="text-xs text-muted-foreground">${desc}</div></div>
      </div>`;
    });
  });
  area.innerHTML = html;
}

function toggleCk(btn) {
  const checked = btn.dataset.checked === '1';
  btn.dataset.checked = checked ? '0' : '1';
  btn.innerHTML = checked ? '' : 'âœ“';
  btn.classList.toggle('bg-emerald-500', !checked);
  btn.classList.toggle('border-emerald-500', !checked);
  btn.classList.toggle('text-white', !checked);
  updateProgress();
}

function updateProgress() {
  const all = document.querySelectorAll('#checklistArea button[data-checked]');
  const done = document.querySelectorAll('#checklistArea button[data-checked="1"]');
  const pct = all.length ? (done.length/all.length*100) : 0;
  $('progressBar').style.width = pct+'%';
  $('checkProgress').textContent = `${done.length}/${all.length} ì™„ë£Œ`;
}
</script>

</body>
</html>
